<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: TrackGenerator</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: TrackGenerator</h1>

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">This module allows to either generate randomly or generate based on trackLayout optional field the track, which will be used to create the environment of the 2D driving simulator, using HTML5 Canvas.
The trackLayout optional field allows to specifiy the desired layout, which will be parsed and iterated to create all segments that matches that layout.</div>
        

        
            















<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Jos√© Carlos</li>
        </ul>
    </dd>
    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="TrackGenerator.js.html">TrackGenerator.js</a>, <a href="TrackGenerator.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>

















    <h5>Examples</h5>
    
        <p class="code-caption">Usage of private API.</p>
    
    <pre class="prettyprint"><code>define(function (require, exports, module) {
    "use strict";

    // Require the TrackGenerator module
    require("widgets/car/TrackGenerator");

    function main() {
      // After TrackGenerator module was loaded, initialize it
      let trackGenerator = new TrackGenerator("trackGeneratorWidget", {
          top: 80,
          left: 650,
          width: 780,
          height: 650
      }, {
          parent: "content", // defines parent div, which is div id="body" by default
          spritesFilename: "spritesheet", // defines spritesheet configuration filename, which is "spritesheet.json" by default
          render: {
              width: 320,
              height: 240,
              depthOfField: 150,
              camera_distance: 30,
              camera_height: 100
          },
          trackSegmentSize: 5,
          numberOfSegmentPerColor: 4,
          numLanes: 3,
          laneWidth: 0.02,
          trackParam: {
              numZones:    12, // number of different portions of the track
              zoneSize:  250 // length of each numZones (the bigger this value. the longer it will take to finish)
          },
          // Information regarding current controllable_car's car
          controllable_car: {
              position: 10,
              speed: 0,
              acceleration: 0.05,
              deceleration: 0.04,
              breaking: 0.3,
              turning: 5.0,
              posx: 0,
              maxSpeed: 20
          },
          objects: ["tree","stump","boulder","tree2","brunetteGirlBack","bush2","hatManBack"],
          obstacle: ["dead_tree2","column","dearRight"],
          obstaclePerIteration: 20,
          trackColors: {
              grass1: "#699864",
              border1: "#e00",
              border2: "#fff",
              outborder1: "#496a46",
              outborder_end1: "#474747",
              track_segment1: "#777",
              lane1: "#fff",
              lane2: "#777",
              laneArrow1: "#00FF00",
              track_segment_end:"#000",
              lane_end: "#fff"
          },
          trackLayout: [ 
              // trackLayout2.json File
              // describing the desired track, which is curve to left, straight line, 
              // curve to right, straight line, curve to left and straight line each with 3 zones (blocks) and with different 
              // profiles, i.e. "flat" or "up" or "down" allows to define slopes within each zone (default is []).
              // Curvature is the angle of curvature for that topography name. This will be useful to try to use 
              // those angles to define different curvatures, instead of generating the same curvature for the same
              // side
              {
                  topography: {
                      name:"left",
                      curvature: -90
                  },
                  profile: "flat",
                  numZones: 3
              },
              {
                  topography: {
                      name:"straight",
                      curvature: 0
                  },
                  profile: "down",
                  numZones: 3
              },
              {
                  topography: {
                      name:"right",
                      curvature: 90
                  },
                  profile: "flat",
                  numZones: 3
              },
              {
                  topography: {
                      name:"straight",
                      curvature: 0
                  },
                  profile: "up",
                  numZones: 3
              },
              {
                  topography: {
                      name:"left",
                      curvature: -90
                  },
                  profile: "flat",
                  numZones: 3,
              },
              {
                  topography: {
                      name:"straight",
                      curvature: 0
                  },
                  profile: "flat",
                  numZones: 3,
              }
          ],
          callback: onMessageReceived
      });

      // Loads the JSON file received as opt field
      trackGenerator.prototype.loadFile();     
    }
});</code></pre>

        <p class="code-caption">Other Possible Values of trackLayout Optional Field.</p>
    
    <pre class="prettyprint"><code>The following examples were used to create the rest of predefined tracks that could be rendered at any time.

       trackLayout: [ 
           // trackLayout1.json File
           // describing the desired track, which is straight line, with 8 zones (8 blocks) and with 
           // profiles "flat".
           // Curvature is the angle of curvature for that topography name. This will be useful to try to use 
           // those angles to define different curvatures, instead of generating the same curvature for the same
           // side
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "flat",
               numZones: 8,
           }
       ]

       // OR

       trackLayout: [ 
           // trackLayout3.json File
           // describing the desired track, which is straight line, followed by curve to left, straight line, 
           // curve to right, straight line and curve to left each with 3 zones (blocks) and with different 
           // profiles, i.e. "flat" or "up" or "down" allows to define slopes within each zone (default is []).
           // Curvature is the angle of curvature for that topography name. This will be useful to try to use 
           // those angles to define different curvatures, instead of generating the same curvature for the same
           // side
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "flat",
               numZones: 1,
           },
           {
               topography: {
                   name:"left",
                   curvature: -90
               },
               profile: "flat",
               numZones: 1,
           },
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "up",
               numZones: 1
           },
           {
               topography: {
                   name:"right",
                   curvature: 90
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "down",
               numZones: 1
           },
           {
               topography: {
                   name:"left",
                   curvature: -90
               },
               profile: "flat",
               numZones: 1
           }
       ]

       // OR

       trackLayout: [ 
           // trackLayout4.json File
           // describing the desired track, which is curve to right, with 4 zones (blocks) and with  
           // profile "flat". This layout allows to render a closed circular track (with 4 curves to right 
           // where a new curve starts after the previous ends) 
           // Curvature is the angle of curvature for that topography name. This will be useful to try to use 
           // those angles to define different curvatures, instead of generating the same curvature for the same
           // side
           {
               topography: {
                   name:"right",
                   curvature: 90
               },
               profile: "flat",
               numZones: 4
           }
       ]

       // OR

       trackLayout: [ 
           // trackLayout5.json File
           // describing the desired track, which is curve to left, straight line, 
           // curve to left, straight line, curve to left, straight line, curve to left and straight line,
           // each with 1 zone (block) and with profile "flat".
           // Curvature is the angle of curvature for that topography name. This will be useful to try to use 
           // those angles to define different curvatures, instead of generating the same curvature for the same
           // side
           {
               topography: {
                   name:"left",
                   curvature: -90
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"left",
                   curvature: -90
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"left",
                   curvature: -90
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"left",
                   curvature: -90
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "flat",
               numZones: 1
           }
       ]

       // OR

       trackLayout: [ 
           // trackLayout6.json File
           // describing the desired track, which is curve to left, straight line, 
           // curve to right, straight line and curve to left each with 1 zone (block) and with different 
           // profiles, i.e. "flat" or "up" or "down" allows to define slopes within each zone (default is []).
           // Curvature is the angle of curvature for that topography name. This will be useful to try to use 
           // those angles to define different curvatures, instead of generating the same curvature for the same
           // side
           {
               topography: {
                   name:"left",
                   curvature: -90
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "down",
               numZones: 1
           },
           {
               topography: {
                   name:"right",
                   curvature: 90
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "up",
               numZones: 1
           },
           {
               topography: {
                   name:"left",
                   curvature: -90
               },
               profile: "flat",
               numZones: 1
           }
       ]

       // OR

       trackLayout: [ 
           // trackLayout7.json File
           // describing the desired track, which is curve to left, with 4 zones (blocks) and with  
           // profile "flat". This layout allows to render a closed circular track (with 4 curves to left 
           // where a new curve starts after the previous ends) 
           // Curvature is the angle of curvature for that topography name. This will be useful to try to use 
           // those angles to define different curvatures, instead of generating the same curvature for the same
           // side
           {
               topography: {
                   name:"left",
                   curvature: -90
               },
               profile: "flat",
               numZones: 4
           }
       ]

       // OR

       trackLayout: [ 
           // trackLayout8.json File
           // describing the desired track, which is curve to right, straight line, 
           // curve to left, straight line and curve to right each with 1 zone (block) and with different 
           // profiles, i.e. "flat" or "up" or "down" allows to define slopes within each zone (default is []).
           // Curvature is the angle of curvature for that topography name. This will be useful to try to use 
           // those angles to define different curvatures, instead of generating the same curvature for the same
           // side
           {
               topography: {
                   name:"right",
                   curvature: 90
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "down",
               numZones: 1
           },
           {
               topography: {
                   name:"left",
                   curvature: -90
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "up",
               numZones: 1
           },
           {
               topography: {
                   name:"right",
                   curvature: 90
               },
               profile: "flat",
               numZones: 1
           }
       ]

       // OR

       trackLayout: [ 
           // trackLayout9.json File
           // describing the desired track, which is curve to right, straight line, 
           // curve to right, straight line, curve to right, straight line, curve to right and straight line,
           // each with 1 zone (block) and with profile "flat".
           // Curvature is the angle of curvature for that topography name. This will be useful to try to use 
           // those angles to define different curvatures, instead of generating the same curvature for the same
           // side
           {
               topography: {
                   name:"right",
                   curvature: 90
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"right",
                   curvature: 90
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"right",
                   curvature: 90
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"right",
                   curvature: 90
               },
               profile: "flat",
               numZones: 1
           },
           {
               topography: {
                   name:"straight",
                   curvature: 0
               },
               profile: "flat",
               numZones: 1
           }
       ]</code></pre>



        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="constructor"><span class="type-signature"></span>constructor<span class="signature">(id, coords, opt)</span><span class="type-signature"> &rarr; {TrackGenerator}</span></h4>
    

    



<div class="description">
    Constructor for the TrackGenerator widget.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The id of the widget instance.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>coords</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The four coordinates (top, left, width, height) of the display, specifying
       the left, top corner, and the width and height of the (rectangular) display.
       Default is { top: 1000, left: 100, width: 500, height: 500 }.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opt</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Options:
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>parent</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">the HTML element where the display will be appended (default is "body").</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>spritesFilename</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">the spritesheet filename(json file) that will be loaded (default is "spritesheet").</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>render</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">the rendering configurations, i.e. width, height, etc. (default is {width: 320, height: 240, depthOfField: 150, camera_distance: 30, camera_height: 100}).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>trackSegmentSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">Int</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">the size of the track segment (default is 5).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>numberOfSegmentPerColor</code></td>
            

            <td class="type">
            
                
<span class="param-type">Int</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">the number of segments per color, i.e. how many sequenced segments to alternate colors (default is 4).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>numLanes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Int</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">the number of lanes the track will be draw (default is 3).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>laneWidth</code></td>
            

            <td class="type">
            
                
<span class="param-type">Float</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">the width of the lane separator (default is 0.02).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>trackParam</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">the track configurations, i.e. number of zones(track length), etc (default is {numZones: 12, zoneSize: 250}).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>controllable_car</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">the vehicle configurations, i.e. initial position, acceleration and deceleration values, etc (default is {position: 10, speed: 0, acceleration: 0.05, deceleration: 0.04, breaking: 0.3, turning: 5.0, posx: 0, maxSpeed: 20}).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>objects</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">the sprite names to be drawed in the landscape (default is ["tree","rock"]).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>obstacle</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">the sprite names to be drawed within the track as obstacles (default is ["rock"]).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>trackLayout</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">the track layout that will be used to create the corresponding segments. (default is []).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>trackColors</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">the track colors that will be used to color the segments in each stripe. (default is {grass1: "#699864", border1: "#e00", border2: "#fff", outborder1: "#496a46", outborder_end1: "#474747", track_segment1: "#777", lane1: "#fff", lane2: "#777", laneArrow1: "#00FF00", track_segment_end:"#000", lane_end: "#fff"}).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>obstaclePerIteration</code></td>
            

            <td class="type">
            
                
<span class="param-type">Int</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">the number of iterations where a new obstacle will be placed within the track (default is 50).</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="TrackGenerator.js.html">TrackGenerator.js</a>, <a href="TrackGenerator.js.html#line529">line 529</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The created instance of the widget TrackGenerator.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">TrackGenerator</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="loadFile"><span class="type-signature"></span>loadFile<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    LoadFile method of the TrackGenerator widget. This method loads the desired JSON File.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="TrackGenerator.js.html">TrackGenerator.js</a>, <a href="TrackGenerator.js.html#line649">line 649</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Arcade.html">Arcade</a></li><li><a href="module-Customization.html">Customization</a></li><li><a href="module-GamepadController.html">GamepadController</a></li><li><a href="module-GyroscopeController.html">GyroscopeController</a></li><li><a href="module-TrackGenerator.html">TrackGenerator</a></li><li><a href="module-VirtualKeypadController.html">VirtualKeypadController</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Jul 11 2018 18:17:57 GMT+0100 (WEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>